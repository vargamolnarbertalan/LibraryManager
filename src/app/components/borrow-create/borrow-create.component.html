<div class="row justify-content-center">
  <div class="col-md-4 register-employee">
    <!-- form card register -->
    <div class="card-body">
      <form [formGroup]="BorrowForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label>Start Date</label>
          <input class="form-control" type="date" formControlName="start">
          <!-- error -->
          <div class="invalid-feedback" *ngIf="myForm.start.errors?.required">
            Start date is required.
          </div>
        </div>
        <div class="form-group">
          <label>End Date</label>
          <input class="form-control" type="date" formControlName="end">
          <!-- error -->
          <div class="invalid-feedback" *ngIf="myForm.end.errors?.required">
            End date is required.
          </div>
        </div>

        <div class="form-group">
          <label>Patron</label>
          <select class="custom-select form-control" (change)="updateSelectedPatron($event.target.value)">
            <option *ngFor="let Patron of Patron" value="{{Patron._id}}">{{Patron._id}}
            </option>
          </select>
        </div>

        <table class="table table-bordered">
          <thead class="table-success">
          <th>Available Books</th>
          </thead>
          <tr *ngFor="let Book of Books; let i = index">
            <ng-container *ngIf="Book.status == 'AVAILABLE'">
              <td>{{Book._id}}</td>
              <td>{{Book.Title}}</td>
              <td>{{Book.manufacturer}}</td>
              <td>{{Book.Publisher}}</td>
              <td>{{Book.ISBN}}</td>
              <td>{{Book.Released | date: "yyyy-MM-dd"}}</td>
              <td>{{Book.NumberOfPages}}</td>
              <td>{{Book.OG_Price}}</td>
              <td>{{Book.status}}</td>
              <td>
                <button class="btn btn-success btn-sm" (click)="addBook(Book, i)">Add</button>
              </td>
            </ng-container>
          </tr>
        </table>

        <table class="table table-bordered">
          <thead class="table-success">
          <th>Added Books</th>
          </thead>
          <tr *ngFor="let Book of addedBooks; let i = index">
              <td>{{Book._id}}</td>
              <td>{{Book.Title}}</td>
              <td>{{Book.Publisher}}</td>
              <td>{{Book.ISBN}}</td>
              <td>{{Book.Released | date: "yyyy-MM-dd"}}</td>
              <td>{{Book.NumberOfPages}}</td>
              <td>{{Book.OG_Price}}</td>
              <td>{{Book.status}}</td>
              <td>
                <button class="btn btn-danger btn-sm" (click)="removeBook(Book, i)">Remove</button>
              </td>
          </tr>
        </table>

        <div class="form-group">
          <button class="btn btn-success btn-lg btn-block" type="submit" [disabled]="!BorrowForm.valid" >Create Borrow</button>
        </div>
      </form>

    </div>
    <!--Debug-->
  </div><!-- form card register -->
</div>
